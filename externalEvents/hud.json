{
  "associatedLayout": "MainScene",
  "lastChangeTimeStamp": 0,
  "name": "HUD",
  "events": [
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "MouseButtonReleased"
          },
          "parameters": [
            "",
            "Left"
          ]
        },
        {
          "type": {
            "value": "SourisSurObjet"
          },
          "parameters": [
            "Play",
            "",
            "",
            ""
          ]
        },
        {
          "type": {
            "value": "BuiltinCommonInstructions::Once"
          },
          "parameters": []
        }
      ],
      "actions": [
        {
          "type": {
            "value": "ResetTimer"
          },
          "parameters": [
            "",
            "\"spawner\""
          ]
        },
        {
          "type": {
            "value": "AnimatableCapability::AnimatableBehavior::SetName"
          },
          "parameters": [
            "Play",
            "Animation",
            "=",
            "\"disabled\""
          ]
        }
      ]
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Start Scene / Always",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Update texts"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ProjectUtils::updateHUDText"
              },
              "parameters": [
                "",
                "CurrentCurrency",
                "\"Currency\"",
                ""
              ]
            },
            {
              "type": {
                "value": "ProjectUtils::updateHUDText"
              },
              "parameters": [
                "",
                "CurrentLife",
                "\"Life\"",
                ""
              ]
            },
            {
              "type": {
                "value": "ProjectUtils::updateHUDText"
              },
              "parameters": [
                "",
                "Wave",
                "\"Wave\"",
                ""
              ]
            },
            {
              "type": {
                "value": "TextContainerCapability::TextContainerBehavior::SetValue"
              },
              "parameters": [
                "StaticText",
                "Text",
                "=",
                "StaticText.initialText"
              ]
            },
            {
              "type": {
                "value": "TextObject::Text::SetFontSize"
              },
              "parameters": [
                "StaticText",
                "=",
                "StaticText.initialSize"
              ]
            },
            {
              "type": {
                "value": "TextContainerCapability::TextContainerBehavior::SetValue"
              },
              "parameters": [
                "TestingText",
                "Text",
                "=",
                "TestingText.initialText"
              ]
            },
            {
              "type": {
                "value": "TextObject::Text::SetFontSize"
              },
              "parameters": [
                "TestingText",
                "=",
                "TestingText.initialSize"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "HUDBackground",
                    "Wave",
                    "",
                    "",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "MettreXY"
                  },
                  "parameters": [
                    "Wave",
                    "=",
                    "HUDBackground.CenterX() - Wave.Width() / 2",
                    "=",
                    "HUDBackground.Y()"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CompareTimer"
              },
              "parameters": [
                "",
                "\"showVolumeSlider\"",
                ">=",
                "0.50"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Montre"
              },
              "parameters": [
                "VolumeSlider",
                ""
              ]
            },
            {
              "type": {
                "value": "RemoveTimer"
              },
              "parameters": [
                "",
                "\"showVolumeSlider\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "ToString(WavesSettings.currentWave)",
                "!=",
                "Wave.Text::Value()"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ProjectUtils::updateHUDText"
              },
              "parameters": [
                "",
                "Wave",
                "\"Wave\"",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "ToString(totalLife)",
                "!=",
                "CurrentLife.Text::Value()"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ProjectUtils::updateHUDText"
              },
              "parameters": [
                "",
                "CurrentLife",
                "\"Life\"",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "ToString(currency)",
                "!=",
                "CurrentCurrency.Text::Value()"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ProjectUtils::updateHUDText"
              },
              "parameters": [
                "",
                "CurrentCurrency",
                "\"Currency\"",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Outline interactibles"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "EffectCapability::EffectBehavior::EnableEffect"
              },
              "parameters": [
                "Interactibles",
                "Effect",
                "\"Effect\"",
                "no"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SourisSurObjet"
              },
              "parameters": [
                "Interactibles",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::Name"
              },
              "parameters": [
                "Interactibles",
                "Animation",
                "!=",
                "\"disabled\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "EffectCapability::EffectBehavior::EnableEffect"
              },
              "parameters": [
                "Interactibles",
                "Effect",
                "\"Effect\"",
                "yes"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "SourisSurObjet"
              },
              "parameters": [
                "Interactibles",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "EffectCapability::EffectBehavior::EnableEffect"
              },
              "parameters": [
                "Interactibles",
                "Effect",
                "\"Effect\"",
                "no"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Have previews follow cursor"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "Grass",
                "isPreview",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "MettreXY"
              },
              "parameters": [
                "Grass",
                "=",
                "CursorX()+8",
                "=",
                "CursorY()+8"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "BuildingChoice",
                "isPhantom",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "MettreXY"
              },
              "parameters": [
                "BuildingChoice",
                "=",
                "CursorX()+8",
                "=",
                "CursorY()+8"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarScene"
                  },
                  "parameters": [
                    "currency",
                    "<",
                    "TowerStats[BuildingChoice.name].price[0]"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ChangeColor"
                  },
                  "parameters": [
                    "BuildingChoice",
                    "\"231;18;18\""
                  ]
                }
              ]
            }
          ]
        },
        {
          "folded": true,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarSceneTxt"
              },
              "parameters": [
                "currentState",
                "=",
                "\"reclaim-path\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "MettreXY"
              },
              "parameters": [
                "ReclaimCost",
                "=",
                "CursorX()+16",
                "=",
                "CursorY()+16"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Layer"
                  },
                  "parameters": [
                    "Grass",
                    "\"HUD\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "MettreXY"
                  },
                  "parameters": [
                    "Grass",
                    "=",
                    "CursorX()+16",
                    "=",
                    "CursorY()+16"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SourisSurObjet"
                  },
                  "parameters": [
                    "Path",
                    "",
                    "",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "reclaimCost",
                    "=",
                    "4"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PosX"
                      },
                      "parameters": [
                        "Grass",
                        "=",
                        "Path.X()-32"
                      ]
                    },
                    {
                      "type": {
                        "value": "PosY"
                      },
                      "parameters": [
                        "Grass",
                        "=",
                        "Path.Y()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "reclaimCost",
                        "-",
                        "1"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PosX"
                      },
                      "parameters": [
                        "Grass",
                        "=",
                        "Path.X()+32"
                      ]
                    },
                    {
                      "type": {
                        "value": "PosY"
                      },
                      "parameters": [
                        "Grass",
                        "=",
                        "Path.Y()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "reclaimCost",
                        "-",
                        "1"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PosX"
                      },
                      "parameters": [
                        "Grass",
                        "=",
                        "Path.X()"
                      ]
                    },
                    {
                      "type": {
                        "value": "PosY"
                      },
                      "parameters": [
                        "Grass",
                        "=",
                        "Path.Y()-32"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "reclaimCost",
                        "-",
                        "1"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PosX"
                      },
                      "parameters": [
                        "Grass",
                        "=",
                        "Path.X()"
                      ]
                    },
                    {
                      "type": {
                        "value": "PosY"
                      },
                      "parameters": [
                        "Grass",
                        "=",
                        "Path.Y()+32"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "reclaimCost",
                        "-",
                        "1"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                      },
                      "parameters": [
                        "ReclaimCost",
                        "Text",
                        "=",
                        "ToString(Variable(reclaimCost))"
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "De-select",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "KeyReleased"
                  },
                  "parameters": [
                    "",
                    "Escape"
                  ]
                },
                {
                  "type": {
                    "value": "MouseButtonFromTextReleased"
                  },
                  "parameters": [
                    "",
                    "\"Right\""
                  ]
                }
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "RangeDisplay",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarSceneTxt"
                  },
                  "parameters": [
                    "currentState",
                    "=",
                    "\"building\""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AjoutObjConcern"
                      },
                      "parameters": [
                        "",
                        "BuildingChoice"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Building::deletePreviewBuilding"
                      },
                      "parameters": [
                        "",
                        "BuildingChoice",
                        ""
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarSceneTxt"
                  },
                  "parameters": [
                    "currentState",
                    "=",
                    "\"leveling\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "LevelUp",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarSceneTxt"
                  },
                  "parameters": [
                    "currentState",
                    "=",
                    "\"reclaim-path\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "ReclaimCost",
                    ""
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "ObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "Grass",
                        "isPreview",
                        "True"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Delete"
                      },
                      "parameters": [
                        "Grass",
                        ""
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "ModVarSceneTxt"
                  },
                  "parameters": [
                    "currentState",
                    "=",
                    "\"none\""
                  ]
                },
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "drawGridMask",
                    "initialPath"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Placement",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "MouseButtonReleased"
              },
              "parameters": [
                "",
                "Left"
              ]
            },
            {
              "type": {
                "value": "SourisSurObjet"
              },
              "parameters": [
                "BuildableTiles",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "ProjectUtils::isSelectedTileOccupied"
                  },
                  "parameters": [
                    "",
                    "BuildableTiles",
                    "BuildingChoice",
                    ""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AjoutObjConcern"
                      },
                      "parameters": [
                        "",
                        "BuildingChoice"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "BuildingChoice",
                        "isPhantom",
                        "True"
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarScene"
                          },
                          "parameters": [
                            "currency",
                            "<",
                            "TowerStats[BuildingChoice.name].price[0]"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ProjectUtils::createPopupOnCursor"
                          },
                          "parameters": [
                            "",
                            "PopUp",
                            "\"Pas assez de monnaie\"",
                            ""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarScene"
                          },
                          "parameters": [
                            "currency",
                            ">=",
                            "TowerStats[BuildingChoice.name].price[0]"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "currency",
                            "-",
                            "TowerStats[BuildingChoice.name].price[0]"
                          ]
                        },
                        {
                          "type": {
                            "value": "ChangePlan"
                          },
                          "parameters": [
                            "BuildingChoice",
                            "=",
                            "42"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "BuildingChoice",
                            "customId",
                            "=",
                            "nextCustomBuildingId"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "nextCustomBuildingId",
                            "+",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetObjectVariableAsBoolean"
                          },
                          "parameters": [
                            "BuildingChoice",
                            "isPhantom",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "ChangeLayer"
                          },
                          "parameters": [
                            "BuildingChoice",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "ScalableCapability::ScalableBehavior::SetValue"
                          },
                          "parameters": [
                            "BuildingChoice",
                            "Scale",
                            "=",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "Tween::TweenBehavior::AddObjectPositionTween2"
                          },
                          "parameters": [
                            "BuildingChoice",
                            "Tween",
                            "\"towerPlacement\"",
                            "BuildableTiles.CenterX()-BuildingChoice.Width()/2",
                            "BuildableTiles.CenterY()-BuildingChoice.Height()/2",
                            "\"easeInQuad\"",
                            "0.25",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "ChangeColor"
                          },
                          "parameters": [
                            "BuildingChoice",
                            "\"255;255;255\""
                          ]
                        },
                        {
                          "type": {
                            "value": "TowerBehaviour::TowerBehaviour::UpdateStats"
                          },
                          "parameters": [
                            "BuildingChoice",
                            "TowerBehaviour",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "PlaySoundCanal"
                          },
                          "parameters": [
                            "",
                            "towerBuildEffect",
                            "1",
                            "",
                            "ProjectVolume::getSoundOrMusicVolume(\"sound\")",
                            ""
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "PosX"
                              },
                              "parameters": [
                                "GridTiles",
                                "=",
                                "BuildableTiles.X()"
                              ]
                            },
                            {
                              "type": {
                                "value": "PosY"
                              },
                              "parameters": [
                                "GridTiles",
                                "=",
                                "BuildableTiles.Y()"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "TileSystem::TileBehavior::SetIsOccupied"
                              },
                              "parameters": [
                                "GridTiles",
                                "TileBehavior",
                                "",
                                ""
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "CreateByName"
                              },
                              "parameters": [
                                "",
                                "BuildingChoice",
                                "BuildingChoice.ObjectName()",
                                "-1000",
                                "-1000",
                                ""
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "PosX"
                                  },
                                  "parameters": [
                                    "BuildingChoice",
                                    "=",
                                    "-1000"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "PosY"
                                  },
                                  "parameters": [
                                    "BuildingChoice",
                                    "=",
                                    "-1000"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "SetObjectVariableAsBoolean"
                                  },
                                  "parameters": [
                                    "BuildingChoice",
                                    "isPhantom",
                                    "True"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "ChangePlan"
                                  },
                                  "parameters": [
                                    "BuildingChoice",
                                    "=",
                                    "100"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "ScalableCapability::ScalableBehavior::SetValue"
                                  },
                                  "parameters": [
                                    "BuildingChoice",
                                    "Scale",
                                    "*",
                                    "2"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "MouseButtonReleased"
              },
              "parameters": [
                "",
                "Left"
              ]
            },
            {
              "type": {
                "value": "VarSceneTxt"
              },
              "parameters": [
                "currentState",
                "=",
                "\"reclaim-path\""
              ]
            },
            {
              "type": {
                "value": "SourisSurObjet"
              },
              "parameters": [
                "Path",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "Path",
                "initialPath",
                ""
              ]
            },
            {
              "type": {
                "value": "VarScene"
              },
              "parameters": [
                "currency",
                ">=",
                "Variable(reclaimCost)"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarScene"
              },
              "parameters": [
                "currency",
                "-",
                "Variable(reclaimCost)"
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "ReclaimCost",
                ""
              ]
            },
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "currentState",
                "=",
                "\"none\""
              ]
            },
            {
              "type": {
                "value": "Cache"
              },
              "parameters": [
                "GridPart"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Grass",
                    "isPreview",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "Grass",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "Create"
                  },
                  "parameters": [
                    "",
                    "Grass",
                    "Path.X()",
                    "Path.Y()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "Path",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "AjoutObjConcern"
                  },
                  "parameters": [
                    "",
                    "Grass"
                  ]
                },
                {
                  "type": {
                    "value": "AjoutObjConcern"
                  },
                  "parameters": [
                    "",
                    "Path"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::ForEach",
                  "object": "Grass",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "TilesGeneration::ChangeGrassSprite"
                      },
                      "parameters": [
                        "",
                        "Grass",
                        "Path",
                        ""
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Selection",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "MouseButtonReleased"
              },
              "parameters": [
                "",
                "Left"
              ]
            },
            {
              "type": {
                "value": "SourisSurObjet"
              },
              "parameters": [
                "BuildingChoice",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "Layer"
              },
              "parameters": [
                "BuildingChoice",
                "\"HUD\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "currentState",
                "=",
                "\"building\""
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "LevelUp",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "AjoutObjConcern"
                  },
                  "parameters": [
                    "",
                    "BuildingChoice"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "BuildingChoice",
                    "isPhantom",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "BuildingChoice",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Grass",
                    "isPreview",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "Grass",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CreateByName"
                  },
                  "parameters": [
                    "",
                    "BuildingChoice",
                    "BuildingChoice.ObjectName()",
                    "-1000",
                    "-1000",
                    ""
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "PosX"
                      },
                      "parameters": [
                        "BuildingChoice",
                        "=",
                        "-1000"
                      ]
                    },
                    {
                      "type": {
                        "value": "PosY"
                      },
                      "parameters": [
                        "BuildingChoice",
                        "=",
                        "-1000"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "BuildingChoice",
                        "isPhantom",
                        "True"
                      ]
                    },
                    {
                      "type": {
                        "value": "ChangePlan"
                      },
                      "parameters": [
                        "BuildingChoice",
                        "=",
                        "100"
                      ]
                    },
                    {
                      "type": {
                        "value": "ScalableCapability::ScalableBehavior::SetValue"
                      },
                      "parameters": [
                        "BuildingChoice",
                        "Scale",
                        "*",
                        "2"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetSceneVariableAsBoolean"
                      },
                      "parameters": [
                        "drawGridMask",
                        "True"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "gridMaskRadius",
                        "=",
                        "BuildingChoice.TowerBehaviour::Range()"
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "MouseButtonReleased"
              },
              "parameters": [
                "",
                "Left"
              ]
            },
            {
              "type": {
                "value": "SourisSurObjet"
              },
              "parameters": [
                "ReclaimBrush",
                "",
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "currentState",
                "=",
                "\"reclaim-path\""
              ]
            },
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "Grass",
                "CursorX()+16",
                "CursorY()+16",
                ""
              ]
            },
            {
              "type": {
                "value": "SetObjectVariableAsBoolean"
              },
              "parameters": [
                "Grass",
                "isPreview",
                "True"
              ]
            },
            {
              "type": {
                "value": "ActivateBehavior"
              },
              "parameters": [
                "Grass",
                "NavMeshPathfindingObstacleBehavior",
                ""
              ]
            },
            {
              "type": {
                "value": "ChangePlan"
              },
              "parameters": [
                "Grass",
                "=",
                "500"
              ]
            },
            {
              "type": {
                "value": "Montre"
              },
              "parameters": [
                "GridPart",
                ""
              ]
            },
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "ReclaimCost",
                "CursorX()+16",
                "CursorY()+16",
                ""
              ]
            },
            {
              "type": {
                "value": "ChangePlan"
              },
              "parameters": [
                "ReclaimCost",
                "=",
                "500"
              ]
            },
            {
              "type": {
                "value": "Building::deletePreviewBuilding"
              },
              "parameters": [
                "",
                "BuildingChoice",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "drawGridMask",
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Level Up",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Select tower to level up"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "MouseButtonReleased"
              },
              "parameters": [
                "",
                "Left"
              ]
            },
            {
              "type": {
                "value": "SourisSurObjet"
              },
              "parameters": [
                "Towers",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "Layer"
              },
              "parameters": [
                "Towers",
                ""
              ]
            },
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "Towers",
                "isPhantom",
                "False"
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Or"
              },
              "parameters": [],
              "subInstructions": [
                {
                  "type": {
                    "value": "VarSceneTxt"
                  },
                  "parameters": [
                    "currentState",
                    "=",
                    "\"none\""
                  ]
                },
                {
                  "type": {
                    "value": "VarSceneTxt"
                  },
                  "parameters": [
                    "currentState",
                    "=",
                    "\"leveling\""
                  ]
                }
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "LevelUp",
                ""
              ]
            },
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "currentState",
                "=",
                "\"leveling\""
              ]
            },
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "PopUp",
                "LevelUp",
                "Towers.X()",
                "Towers.Y()-64",
                ""
              ]
            },
            {
              "type": {
                "value": "ChangePlan"
              },
              "parameters": [
                "LevelUp",
                "=",
                "1000"
              ]
            },
            {
              "type": {
                "value": "LinkedObjects::LinkObjects"
              },
              "parameters": [
                "",
                "Towers",
                "LevelUp"
              ]
            },
            {
              "type": {
                "value": "TextObject::ChangeColor"
              },
              "parameters": [
                "LevelUp",
                "\"255;255;255\""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GlobalVariableChildCount"
                  },
                  "parameters": [
                    "TowerStats[Towers.name].price",
                    ">",
                    "Towers.TowerBehaviour::Level()"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                  },
                  "parameters": [
                    "LevelUp",
                    "Text",
                    "=",
                    "\"LVL \" + ToString(Towers.TowerBehaviour::Level()) + \" -> \" + ToString(Towers.TowerBehaviour::Level()+1) + NewLine() + \"PRICE: \" + TowerStats[Towers.name].price[Towers.TowerBehaviour::Level()-1]"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GlobalVariableChildCount"
                  },
                  "parameters": [
                    "TowerStats[Towers.name].price",
                    "<=",
                    "Towers.TowerBehaviour::Level()"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                  },
                  "parameters": [
                    "LevelUp",
                    "Text",
                    "=",
                    "\"Niveau max\""
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Level up the selected tower"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "MouseButtonReleased"
              },
              "parameters": [
                "",
                "Left"
              ]
            },
            {
              "type": {
                "value": "SourisSurObjet"
              },
              "parameters": [
                "LevelUp",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "LinkedObjects::PickObjectsLinkedTo"
              },
              "parameters": [
                "",
                "Towers",
                "LevelUp",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GlobalVariableChildCount"
                  },
                  "parameters": [
                    "TowerStats[Towers.name].price",
                    ">",
                    "Towers.TowerBehaviour::Level()"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarScene"
                      },
                      "parameters": [
                        "currency",
                        "<",
                        "TowerStats[Towers.name].price[Towers.TowerBehaviour::Level()]"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ProjectUtils::createPopupOnCursor"
                      },
                      "parameters": [
                        "",
                        "PopUp",
                        "\"Pas assez de monnaie\"",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarScene"
                      },
                      "parameters": [
                        "currency",
                        ">=",
                        "TowerStats[Towers.name].price[Towers.TowerBehaviour::Level()]"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "currency",
                        "-",
                        "TowerStats[Towers.name].price[Towers.TowerBehaviour::Level()]"
                      ]
                    },
                    {
                      "type": {
                        "value": "TowerBehaviour::TowerBehaviour::LevelUp"
                      },
                      "parameters": [
                        "BuildingChoice",
                        "TowerBehaviour",
                        "TowerFX",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "PlaySoundCanal"
                      },
                      "parameters": [
                        "",
                        "towerLevelUp",
                        "1",
                        "",
                        "ProjectVolume::getSoundOrMusicVolume(\"sound\")",
                        ""
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "LinkedObjects::PickObjectsLinkedTo"
                          },
                          "parameters": [
                            "",
                            "Towers",
                            "LevelUp",
                            ""
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "CreateByName"
                          },
                          "parameters": [
                            "",
                            "TowerFX",
                            "Towers.ObjectName()+\"FX\"",
                            "Towers.CenterX()",
                            "Towers.CenterY()",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "MettreXY"
                          },
                          "parameters": [
                            "TowerFX",
                            "-",
                            "TowerFX.Width() / 2",
                            "-",
                            "TowerFX.Height() / 2"
                          ]
                        },
                        {
                          "type": {
                            "value": "ChangePlan"
                          },
                          "parameters": [
                            "TowerFX",
                            "=",
                            "100"
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::RemoveLinkBetween"
                      },
                      "parameters": [
                        "",
                        "Towers",
                        "LevelUp"
                      ]
                    },
                    {
                      "type": {
                        "value": "Delete"
                      },
                      "parameters": [
                        "LevelUp",
                        ""
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "Tower Range",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "SourisSurObjet"
              },
              "parameters": [
                "BuildingChoice",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "Layer"
              },
              "parameters": [
                "Towers",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "RangeDisplay",
                ""
              ]
            },
            {
              "type": {
                "value": "ProjectUtils::createTowerRangeDisplay"
              },
              "parameters": [
                "",
                "RangeDisplay",
                "Towers",
                "",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": []
    }
  ]
}